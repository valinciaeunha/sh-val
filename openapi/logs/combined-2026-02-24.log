{"level":"info","message":"ðŸš€ OpenAPI Server running on port 4001 in undefined mode","timestamp":"2026-02-24 21:44:58"}
{"0":"C","1":"o","10":" ","11":"t","12":"e","13":"r","14":"m","15":"i","16":"n","17":"a","18":"t","19":"e","2":"n","20":"d","21":" ","22":"d","23":"u","24":"e","25":" ","26":"t","27":"o","28":" ","29":"c","3":"n","30":"o","31":"n","32":"n","33":"e","34":"c","35":"t","36":"i","37":"o","38":"n","39":" ","4":"e","40":"t","41":"i","42":"m","43":"e","44":"o","45":"u","46":"t","5":"c","6":"t","7":"i","8":"o","9":"n","level":"error","message":"PostgreSQL: Failed to initialize connection pool: Connection terminated due to connection timeout","timestamp":"2026-02-24 21:44:59"}
{"level":"error","message":"PostgreSQL health check failed: Error: Connection terminated due to connection timeout\n    at C:\\docker\\next-js\\scripthub.id\\openapi\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at async healthCheck (file:///C:/docker/next-js/scripthub.id/openapi/src/db/postgres.js:98:20)\n    at async Server.<anonymous> (file:///C:/docker/next-js/scripthub.id/openapi/src/index.js:149:26) {\n  [stack]: [Getter/Setter],\n  [message]: 'Connection terminated due to connection timeout',\n  [cause]: Error: Connection terminated unexpectedly\n      at Connection.<anonymous> (C:\\docker\\next-js\\scripthub.id\\openapi\\node_modules\\pg\\lib\\client.js:177:73)\n      at Object.onceWrapper (node:events:622:28)\n      at Connection.emit (node:events:508:28)\n      at Socket.<anonymous> (C:\\docker\\next-js\\scripthub.id\\openapi\\node_modules\\pg\\lib\\connection.js:61:12)\n      at Socket.emit (node:events:508:28)\n      at TCP.<anonymous> (node:net:346:12) {\n    [stack]: [Getter/Setter],\n    [message]: 'Connection terminated unexpectedly'\n  }\n}","timestamp":"2026-02-24 21:45:00"}
{"level":"info","message":"PostgreSQL Connection: âœ… UP","timestamp":"2026-02-24 21:45:00"}
{"level":"info","message":"ðŸš€ OpenAPI Server running on port 4001 in undefined mode","timestamp":"2026-02-24 21:46:37"}
{"0":"C","1":"o","10":" ","11":"t","12":"e","13":"r","14":"m","15":"i","16":"n","17":"a","18":"t","19":"e","2":"n","20":"d","21":" ","22":"d","23":"u","24":"e","25":" ","26":"t","27":"o","28":" ","29":"c","3":"n","30":"o","31":"n","32":"n","33":"e","34":"c","35":"t","36":"i","37":"o","38":"n","39":" ","4":"e","40":"t","41":"i","42":"m","43":"e","44":"o","45":"u","46":"t","5":"c","6":"t","7":"i","8":"o","9":"n","level":"error","message":"PostgreSQL: Failed to initialize connection pool: Connection terminated due to connection timeout","timestamp":"2026-02-24 21:46:39"}
{"level":"error","message":"PostgreSQL health check failed: Error: Connection terminated due to connection timeout\n    at C:\\docker\\next-js\\scripthub.id\\openapi\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at async healthCheck (file:///C:/docker/next-js/scripthub.id/openapi/src/db/postgres.js:98:20)\n    at async Server.<anonymous> (file:///C:/docker/next-js/scripthub.id/openapi/src/index.js:152:26) {\n  [stack]: [Getter/Setter],\n  [message]: 'Connection terminated due to connection timeout',\n  [cause]: Error: Connection terminated unexpectedly\n      at Connection.<anonymous> (C:\\docker\\next-js\\scripthub.id\\openapi\\node_modules\\pg\\lib\\client.js:177:73)\n      at Object.onceWrapper (node:events:622:28)\n      at Connection.emit (node:events:508:28)\n      at Socket.<anonymous> (C:\\docker\\next-js\\scripthub.id\\openapi\\node_modules\\pg\\lib\\connection.js:61:12)\n      at Socket.emit (node:events:508:28)\n      at TCP.<anonymous> (node:net:346:12) {\n    [stack]: [Getter/Setter],\n    [message]: 'Connection terminated unexpectedly'\n  }\n}","timestamp":"2026-02-24 21:46:39"}
{"level":"info","message":"PostgreSQL Connection: âœ… UP","timestamp":"2026-02-24 21:46:39"}
{"level":"info","message":"ðŸš€ OpenAPI Server running on port 4001 in undefined mode","timestamp":"2026-02-24 14:52:11"}
{"level":"debug","message":"PostgreSQL: New connection established","timestamp":"2026-02-24 14:52:12"}
{"level":"info","message":"PostgreSQL: Connection pool initialized (scripthub @ postgres:5432)","timestamp":"2026-02-24 14:52:12"}
{"level":"debug","message":"PostgreSQL: New connection established","timestamp":"2026-02-24 14:52:12"}
{"level":"info","message":"PostgreSQL Connection: âœ… UP","timestamp":"2026-02-24 14:52:12"}
{"level":"info","message":"Redis Connection: âœ… UP","timestamp":"2026-02-24 14:52:12"}
{"level":"info","message":"::ffff:172.18.0.1 - - [24/Feb/2026:14:52:21 +0000] \"GET / HTTP/1.1\" 404 70 \"-\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/145.0.0.0 Safari/537.36 Edg/145.0.0.0\"","timestamp":"2026-02-24 14:52:21"}
{"level":"info","message":"::ffff:172.18.0.1 - - [24/Feb/2026:14:52:22 +0000] \"GET /favicon.ico HTTP/1.1\" 404 81 \"-\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/145.0.0.0 Safari/537.36 Edg/145.0.0.0\"","timestamp":"2026-02-24 14:52:22"}
{"level":"debug","message":"PostgreSQL: Connection removed from pool","timestamp":"2026-02-24 14:52:42"}
{"level":"debug","message":"PostgreSQL: Connection removed from pool","timestamp":"2026-02-24 14:52:42"}
{"level":"info","message":"::ffff:172.18.0.1 - - [24/Feb/2026:14:52:49 +0000] \"GET / HTTP/1.1\" 404 70 \"-\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/145.0.0.0 Safari/537.36 Edg/145.0.0.0\"","timestamp":"2026-02-24 14:52:49"}
{"level":"info","message":"::ffff:172.18.0.1 - - [24/Feb/2026:14:53:03 +0000] \"GET /png HTTP/1.1\" 404 73 \"-\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/145.0.0.0 Safari/537.36 Edg/145.0.0.0\"","timestamp":"2026-02-24 14:53:03"}
{"level":"info","message":"::ffff:172.18.0.1 - - [24/Feb/2026:14:53:07 +0000] \"GET /ping HTTP/1.1\" 200 112 \"-\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/145.0.0.0 Safari/537.36 Edg/145.0.0.0\"","timestamp":"2026-02-24 14:53:07"}
{"level":"debug","message":"PostgreSQL: New connection established","timestamp":"2026-02-24 14:54:14"}
{"level":"info","message":"::ffff:172.18.0.1 - - [24/Feb/2026:14:54:14 +0000] \"POST /api/v2/keys/generate HTTP/1.1\" 500 66 \"-\" \"Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.26100.7705\"","timestamp":"2026-02-24 14:54:14"}
{"level":"debug","message":"PostgreSQL: Connection removed from pool","timestamp":"2026-02-24 14:54:14"}
{"level":"info","message":"\nSIGTERM received. Starting graceful shutdown...","timestamp":"2026-02-24 14:55:32"}
{"level":"info","message":"HTTP server closed.","timestamp":"2026-02-24 14:55:32"}
{"level":"info","message":"ðŸš€ OpenAPI Server running on port 4001 in undefined mode","timestamp":"2026-02-24 14:55:35"}
{"level":"debug","message":"PostgreSQL: New connection established","timestamp":"2026-02-24 14:55:35"}
{"level":"info","message":"PostgreSQL: Connection pool initialized (scripthub @ postgres:5432)","timestamp":"2026-02-24 14:55:35"}
{"level":"debug","message":"PostgreSQL: New connection established","timestamp":"2026-02-24 14:55:35"}
{"level":"info","message":"PostgreSQL Connection: âœ… UP","timestamp":"2026-02-24 14:55:35"}
{"level":"info","message":"Redis Connection: âœ… UP","timestamp":"2026-02-24 14:55:35"}
{"level":"info","message":"::ffff:172.18.0.1 - - [24/Feb/2026:14:56:00 +0000] \"POST /api/v2/keys/generate HTTP/1.1\" 400 139 \"-\" \"Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.26100.7705\"","timestamp":"2026-02-24 14:56:00"}
{"level":"debug","message":"PostgreSQL: Connection removed from pool","timestamp":"2026-02-24 14:56:05"}
{"code":"23503","constraint":"license_keys_script_id_fkey","detail":"Key (script_id)=(e30e9d6d-eb10-4ed3-b3c6-f283dacf1051) is not present in table \"scripts\".","file":"ri_triggers.c","length":313,"level":"error","line":"2608","message":"Generate keys error: error: insert or update on table \"license_keys\" violates foreign key constraint \"license_keys_script_id_fkey\"\n    at /app/node_modules/pg/lib/client.js:624:17\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Module.generateKeys (file:///app/src/modules/keys/keys.service.js:28:28)\n    at async generateKeys (file:///app/src/modules/keys/keys.controller.js:46:22) {\n  [stack]: 'error: insert or update on table \"license_keys\" violates foreign key constraint \"license_keys_script_id_fkey\"\\n' +\n    '    at /app/node_modules/pg/lib/client.js:624:17\\n' +\n    '    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\\n' +\n    '    at async Module.generateKeys (file:///app/src/modules/keys/keys.service.js:28:28)\\n' +\n    '    at async generateKeys (file:///app/src/modules/keys/keys.controller.js:46:22)',\n  [message]: 'insert or update on table \"license_keys\" violates foreign key constraint \"license_keys_script_id_fkey\"',\n  length: 313,\n  name: 'error',\n  severity: 'ERROR',\n  code: '23503',\n  detail: 'Key (script_id)=(e30e9d6d-eb10-4ed3-b3c6-f283dacf1051) is not present in table \"scripts\".',\n  hint: undefined,\n  position: undefined,\n  internalPosition: undefined,\n  internalQuery: undefined,\n  where: undefined,\n  schema: 'public',\n  table: 'license_keys',\n  column: undefined,\n  dataType: undefined,\n  constraint: 'license_keys_script_id_fkey',\n  file: 'ri_triggers.c',\n  line: '2608',\n  routine: 'ri_ReportViolation'\n}","name":"error","routine":"ri_ReportViolation","schema":"public","severity":"ERROR","table":"license_keys","timestamp":"2026-02-24 14:56:18"}
{"level":"info","message":"::ffff:172.18.0.1 - - [24/Feb/2026:14:56:18 +0000] \"POST /api/v2/keys/generate HTTP/1.1\" 500 59 \"-\" \"Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.26100.7705\"","timestamp":"2026-02-24 14:56:18"}
{"level":"debug","message":"PostgreSQL: Connection removed from pool","timestamp":"2026-02-24 14:56:48"}
{"level":"info","message":"\nSIGTERM received. Starting graceful shutdown...","timestamp":"2026-02-24 14:58:13"}
{"level":"info","message":"HTTP server closed.","timestamp":"2026-02-24 14:58:13"}
{"level":"info","message":"ðŸš€ OpenAPI Server running on port 4001 in undefined mode","timestamp":"2026-02-24 14:58:14"}
{"level":"debug","message":"PostgreSQL: New connection established","timestamp":"2026-02-24 14:58:14"}
{"level":"info","message":"PostgreSQL: Connection pool initialized (scripthub @ postgres:5432)","timestamp":"2026-02-24 14:58:14"}
{"level":"debug","message":"PostgreSQL: New connection established","timestamp":"2026-02-24 14:58:14"}
{"level":"info","message":"PostgreSQL Connection: âœ… UP","timestamp":"2026-02-24 14:58:14"}
{"level":"info","message":"Redis Connection: âœ… UP","timestamp":"2026-02-24 14:58:14"}
{"code":"22001","file":"varchar.c","length":98,"level":"error","line":"638","message":"Generate keys error: error: value too long for type character varying(32)\n    at /app/node_modules/pg/lib/client.js:624:17\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Module.generateKeys (file:///app/src/modules/keys/keys.service.js:31:28)\n    at async generateKeys (file:///app/src/modules/keys/keys.controller.js:46:22) {\n  [stack]: 'error: value too long for type character varying(32)\\n' +\n    '    at /app/node_modules/pg/lib/client.js:624:17\\n' +\n    '    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\\n' +\n    '    at async Module.generateKeys (file:///app/src/modules/keys/keys.service.js:31:28)\\n' +\n    '    at async generateKeys (file:///app/src/modules/keys/keys.controller.js:46:22)',\n  [message]: 'value too long for type character varying(32)',\n  length: 98,\n  name: 'error',\n  severity: 'ERROR',\n  code: '22001',\n  detail: undefined,\n  hint: undefined,\n  position: undefined,\n  internalPosition: undefined,\n  internalQuery: undefined,\n  where: undefined,\n  schema: undefined,\n  table: undefined,\n  column: undefined,\n  dataType: undefined,\n  constraint: undefined,\n  file: 'varchar.c',\n  line: '638',\n  routine: 'varchar'\n}","name":"error","routine":"varchar","severity":"ERROR","timestamp":"2026-02-24 14:58:41"}
{"level":"info","message":"::ffff:172.18.0.1 - - [24/Feb/2026:14:58:41 +0000] \"POST /api/v2/keys/generate HTTP/1.1\" 500 59 \"-\" \"Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.26100.7705\"","timestamp":"2026-02-24 14:58:41"}
{"level":"debug","message":"PostgreSQL: Connection removed from pool","timestamp":"2026-02-24 14:58:44"}
{"level":"debug","message":"PostgreSQL: Connection removed from pool","timestamp":"2026-02-24 14:59:11"}
{"level":"info","message":"\nSIGTERM received. Starting graceful shutdown...","timestamp":"2026-02-24 15:01:40"}
{"level":"info","message":"HTTP server closed.","timestamp":"2026-02-24 15:01:40"}
{"level":"info","message":"ðŸš€ OpenAPI Server running on port 4001 in undefined mode","timestamp":"2026-02-24 15:01:41"}
{"level":"debug","message":"PostgreSQL: New connection established","timestamp":"2026-02-24 15:01:42"}
{"level":"info","message":"PostgreSQL: Connection pool initialized (scripthub @ postgres:5432)","timestamp":"2026-02-24 15:01:42"}
{"level":"debug","message":"PostgreSQL: New connection established","timestamp":"2026-02-24 15:01:42"}
{"level":"info","message":"PostgreSQL Connection: âœ… UP","timestamp":"2026-02-24 15:01:42"}
{"level":"info","message":"Redis Connection: âœ… UP","timestamp":"2026-02-24 15:01:42"}
{"level":"info","message":"User a81ff260-e8e2-4089-9f1d-6775d1f58fef generated 10 keys for script bba3e0cd-6a68-4d54-a680-36ae15290419","timestamp":"2026-02-24 15:01:54"}
{"level":"info","message":"::ffff:172.18.0.1 - - [24/Feb/2026:15:01:54 +0000] \"POST /api/v2/keys/generate HTTP/1.1\" 201 3870 \"-\" \"Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.26100.7705\"","timestamp":"2026-02-24 15:01:54"}
{"level":"debug","message":"PostgreSQL: Connection removed from pool","timestamp":"2026-02-24 15:02:12"}
{"level":"debug","message":"PostgreSQL: Connection removed from pool","timestamp":"2026-02-24 15:02:24"}
{"level":"info","message":"::ffff:172.18.0.1 - - [24/Feb/2026:15:06:32 +0000] \"GET /studio/keys HTTP/1.1\" 404 81 \"-\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/145.0.0.0 Safari/537.36 Edg/145.0.0.0\"","timestamp":"2026-02-24 15:06:32"}
{"level":"info","message":"\nSIGTERM received. Starting graceful shutdown...","timestamp":"2026-02-24 15:32:08"}
{"level":"info","message":"HTTP server closed.","timestamp":"2026-02-24 15:32:08"}
{"level":"info","message":"ðŸš€ OpenAPI Server running on port 4001 in undefined mode","timestamp":"2026-02-24 15:32:11"}
{"level":"debug","message":"PostgreSQL: New connection established","timestamp":"2026-02-24 15:32:11"}
{"level":"info","message":"PostgreSQL: Connection pool initialized (scripthub @ postgres:5432)","timestamp":"2026-02-24 15:32:11"}
{"level":"debug","message":"PostgreSQL: New connection established","timestamp":"2026-02-24 15:32:11"}
{"level":"info","message":"PostgreSQL Connection: âœ… UP","timestamp":"2026-02-24 15:32:11"}
{"level":"info","message":"Redis Connection: âœ… UP","timestamp":"2026-02-24 15:32:11"}
{"level":"debug","message":"PostgreSQL: Connection removed from pool","timestamp":"2026-02-24 15:32:41"}
{"level":"debug","message":"PostgreSQL: Connection removed from pool","timestamp":"2026-02-24 15:32:41"}
