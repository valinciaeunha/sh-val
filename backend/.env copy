# ============================================
# ScriptHub.id Backend Configuration
# ============================================

# Environment
NODE_ENV=production

# ============================================
# API Configuration
# ============================================
API_PORT=4000
API_URL=https://api.scripthub.id

# ============================================
# Frontend Configuration
# ============================================
FRONTEND_URL=https://scripthub.id
APP_URL=https://scripthub.id

# ============================================
# Database - PostgreSQL
# ============================================
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=scripthub
POSTGRES_USER=scripthub_user
POSTGRES_PASSWORD=scripthub_secure_password_123

# Full database URL (auto-generated in docker-compose)
DATABASE_URL=postgresql://scripthub_user:scripthub_secure_password_123@postgres:5432/scripthub

# ============================================
# Redis Configuration
# ============================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=redis_secure_password_123
REDIS_URL=redis://:redis_secure_password_123@redis:6379

# ============================================
# JWT Authentication
# ============================================
JWT_SECRET=5TbBIt1rSVu7YX4jjCg427oVEgYQdqdPJIweNcTZcNY=
JWT_EXPIRES_IN=7d
JWT_REFRESH_SECRET=UnvWhjJFN39DZx/QLPX41DpbEDNhx6kovs6g1dhN1w0=
JWT_REFRESH_EXPIRES_IN=30d

# ============================================
# Discord OAuth
# ============================================
DISCORD_CLIENT_ID=1473393482897948898
DISCORD_CLIENT_SECRET=tdJ8TCZqkPoZxJphYVpCxZFTg_t9piih
DISCORD_CALLBACK_URL=https://api.scripthub.id/api/auth/discord/callback

# ============================================
# Email Configuration (SMTP)
# ============================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
EMAIL_FROM=noreply@scripthub.id

# ============================================
# Security
# ============================================
BCRYPT_ROUNDS=12
RATE_LIMIT_WINDOW=15
RATE_LIMIT_MAX=100

# Session secret
SESSION_SECRET=BT/sqbuxIrMHFyFObNzGkseVIISHL8WZOude1rCQ+LQ=

# CORS allowed origins (comma separated)
CORS_ORIGINS=http://localhost:3000,https://scripthub.id

# ============================================
# PgAdmin (Optional - for development)
# ============================================
PGADMIN_PORT=5050
PGADMIN_EMAIL=admin@scripthub.id
PGADMIN_PASSWORD=admin12

# ============================================
# File Upload
# ============================================
MAX_FILE_SIZE=10485760
UPLOAD_DIR=./uploads

# ============================================
# S3 Configuration (NevaObjects)
# ============================================
S3_ENDPOINT=https://s3.ap-southeast-2.amazonaws.com
S3_ACCESS_KEY=AKIAVYPSAGQO3HAUCCXA
S3_SECRET_KEY=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
S3_BUCKET_IMAGES=cdn.scripthub.id
S3_BUCKET_SCRIPTS=v1.scripthub.id
S3_REGION=ap-southeast-2

# ============================================
# Logging
# ============================================
LOG_LEVEL=info
LOG_DIR=./logs

# ============================================
# Database Backup (S3)
# ============================================
S3_BACKUP_BUCKET=cdn.scripthub.id
S3_BACKUP_PREFIX=backups/db
BACKUP_RETENTION_DAYS=30
ENABLE_BACKUP=true
BACKUP_ON_STARTUP=false

# ============================================
# Feature Flags
# ============================================
ENABLE_EMAIL_VERIFICATION=true
ENABLE_DISCORD_LOGIN=true
ENABLE_REGISTRATION=true

# ============================================
# Rate Limiting
# ============================================
RATE_LIMIT_AUTH_WINDOW=15
RATE_LIMIT_AUTH_MAX=30
RATE_LIMIT_API_WINDOW=15
RATE_LIMIT_API_MAX=500

# ============================================
# Production Notes
# ============================================
# 1. Change ALL passwords and secrets to strong random values
# 2. Use environment-specific values for production
# 3. Never commit .env file to git
# 4. Use a secrets manager in production (AWS Secrets Manager, etc)
# 5. Generate JWT secrets using: openssl rand -base64 32
